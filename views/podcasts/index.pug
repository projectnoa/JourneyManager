extends ../layout

block head-content
  link(rel="stylesheet" href="/css/podcasts.css")
  script(src="/js/podcasts.js")

  meta(name="page-id", content="podcasts")

block layout-content
  h1.mt-5.text-white.text-center Podcasts

  div.row.no-gutters
    div.col
      a.btn.btn-sm.text-white.float-right(href='/podcasts/new')
        i.fas.fa-plus.fa-2x
  if items.length > 0
    h6.text-white !{total} Podcasts published, page !{page}

    each item in items
      div.row.no-gutters
        div.col
          div.card
            div.card-header
              h5.card-title !{item.title}
              h6.card-subtitle.text-muted !{item.keywords}
              if item.explicit
                span.badge.badge-pill.badge-danger.position-absolute(style='top:10px; right:50px;') explicit
              else
                span.badge.badge-pill.badge-primary.position-absolute(style='top:10px; right:50px;') clean
              span.position-absolute(style='top:0; right:5px;')
                  form(action=`/podcasts/${item.id}/edit`, method="post")
                    input(type="hidden", name="id", value=`${item.id}`)
                    button.btn.btn-link.btn-md.p-0(type="submit") 
                      i.fas.fa-pen.text-primary.m-2.pt-1
            div.card-body
              p !{item.description}
            div.card-footer
              span 
                strong season: 
                | !{item.season} 
                strong.px-1 episode: 
                | !{item.episode}
                strong.px-1 duration:
                | !{item.duration}
              span.position-absolute(style='bottom:0; right:5px;')
                small.text-muted #{item.pubDate} Tokyo time
    br
    include ../pagination.pug
